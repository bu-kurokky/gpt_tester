const _0x22be06=_0x42d6;(function(_0x1fcd27,_0x539c87){const _0x4eae18=_0x42d6,_0x4dc80=_0x1fcd27();while(!![]){try{const _0x8ba572=-parseInt(_0x4eae18(0xf7))/0x1+-parseInt(_0x4eae18(0x15c))/0x2*(-parseInt(_0x4eae18(0x118))/0x3)+parseInt(_0x4eae18(0x154))/0x4*(parseInt(_0x4eae18(0x11c))/0x5)+parseInt(_0x4eae18(0x161))/0x6+-parseInt(_0x4eae18(0x121))/0x7*(-parseInt(_0x4eae18(0x105))/0x8)+-parseInt(_0x4eae18(0xed))/0x9*(parseInt(_0x4eae18(0x129))/0xa)+-parseInt(_0x4eae18(0x145))/0xb;if(_0x8ba572===_0x539c87)break;else _0x4dc80['push'](_0x4dc80['shift']());}catch(_0x1e62e7){_0x4dc80['push'](_0x4dc80['shift']());}}}(_0x20be,0x7d52c));const _0x2a7076=(function(){let _0x516cb3=!![];return function(_0x29d65d,_0x24797f){const _0x689745=_0x516cb3?function(){const _0x30184f=_0x42d6;if(_0x24797f){const _0x2b3424=_0x24797f[_0x30184f(0x144)](_0x29d65d,arguments);return _0x24797f=null,_0x2b3424;}}:function(){};return _0x516cb3=![],_0x689745;};}()),_0x3d465b=_0x2a7076(this,function(){const _0x248dd3=_0x42d6;return _0x3d465b['toString']()[_0x248dd3(0x104)](_0x248dd3(0x10b))[_0x248dd3(0x123)]()[_0x248dd3(0x14b)](_0x3d465b)['search']('(((.+)+)+)+$');});_0x3d465b();const _0x3efd53=(function(){let _0x8c6b5=!![];return function(_0x2699f9,_0x5603c8){const _0x318838=_0x8c6b5?function(){const _0x566be3=_0x42d6;if(_0x5603c8){const _0x3845fe=_0x5603c8[_0x566be3(0x144)](_0x2699f9,arguments);return _0x5603c8=null,_0x3845fe;}}:function(){};return _0x8c6b5=![],_0x318838;};}());(function(){_0x3efd53(this,function(){const _0x20b539=_0x42d6,_0x3c2dea=new RegExp(_0x20b539(0x12e)),_0x43ff86=new RegExp(_0x20b539(0xdf),'i'),_0x4303b2=_0x12622e(_0x20b539(0x156));!_0x3c2dea['test'](_0x4303b2+_0x20b539(0x128))||!_0x43ff86[_0x20b539(0x140)](_0x4303b2+'input')?_0x4303b2('0'):_0x12622e();})();}());const _0x30d1b3=(function(){let _0x315840=!![];return function(_0x497325,_0x4ccef4){const _0x4f59f3=_0x315840?function(){const _0x284321=_0x42d6;if(_0x4ccef4){const _0xc11ba2=_0x4ccef4[_0x284321(0x144)](_0x497325,arguments);return _0x4ccef4=null,_0xc11ba2;}}:function(){};return _0x315840=![],_0x4f59f3;};}()),_0x30c925=_0x30d1b3(this,function(){const _0x1b7695=_0x42d6,_0x1b4d04=function(){const _0x39aea9=_0x42d6;let _0x58459c;try{_0x58459c=Function('return\x20(function()\x20'+_0x39aea9(0x14c)+');')();}catch(_0x27df4a){_0x58459c=window;}return _0x58459c;},_0x21f859=_0x1b4d04(),_0x23e710=_0x21f859[_0x1b7695(0xf1)]=_0x21f859[_0x1b7695(0xf1)]||{},_0x32e508=['log','warn',_0x1b7695(0xfb),_0x1b7695(0xdd),_0x1b7695(0x12a),'table',_0x1b7695(0x158)];for(let _0x548478=0x0;_0x548478<_0x32e508[_0x1b7695(0xe1)];_0x548478++){const _0xaffb0=_0x30d1b3[_0x1b7695(0x14b)][_0x1b7695(0x103)]['bind'](_0x30d1b3),_0x20ff17=_0x32e508[_0x548478],_0x14175d=_0x23e710[_0x20ff17]||_0xaffb0;_0xaffb0[_0x1b7695(0x112)]=_0x30d1b3[_0x1b7695(0x136)](_0x30d1b3),_0xaffb0[_0x1b7695(0x123)]=_0x14175d['toString']['bind'](_0x14175d),_0x23e710[_0x20ff17]=_0xaffb0;}});_0x30c925();function _0x20be(){const _0xc430b6=['getMonth','reverse','metaKey','click','5779818SbHKwZ','startsWith','choices','remove','error','read','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','innerText','length','getMinutes','history','createElement','warning','text','clientHeight','chat_log','action','Bearer\x20','.md','confirm','17379QemByS','histories','innerHTML','</article>','console','value','push','appendChild','parse','while\x20(true)\x20{}','629617lrAiiF','classList','&lt;','slice','info','new_question','querySelectorAll','height','getReader','#chat_log\x20li:last-of-type\x20article','send_btn','addEventListener','prototype','search','164168TpdEaD','https://api.openai.com/v1/chat/completions','ctrlKey','forEach','replace','[DONE]','(((.+)+)+)+$','getSeconds','stateObject','innerHeight','prepend','setAttribute','getHours','__proto__','string','POST','keydown','&#x27;','必ずopen\x20aiのkeyを入力してください\x0aAPI\x20Keyが見つからないので使用できません','1305fZOWAS','createObjectURL','myKey','chatgpt_log_','22235eYYXUB','.h_log','delta','role','&quot;','21esEJqh','selectedIndex','toString','debu','assistant','&#x60;','scrollTop','chain','270enboEw','exception','user','&gt;','href','function\x20*\x5c(\x20*\x5c)','content','data','gger','time','api_key','indexOf','body','bind','Error:','model','querySelector','<p><span\x20class=\x22answer\x22>A</span></p>','getItem','load','append','scrollHeight','data:','test','firstElementChild','add','#1\x20','apply','8945717ccNrkr','setItem','getElementById','input','<article>','Enter','constructor','{}.constructor(\x22return\x20this\x22)(\x20)','getAttribute','style','stringify','text/plain','textarea','download','removeItem','248kKYNiy','key','init','h_log','trace','reload','counter','join','3254uBDkHL'];_0x20be=function(){return _0xc430b6;};return _0x20be();}let messageHistory=[],logHistory=[],promptTime=![],textarea,clientHeight,modelType='gpt-3.5-turbo';const formMax=window[_0x22be06(0x10e)]*0.01*0x19;function _0x42d6(_0x733d6d,_0x371e66){const _0x264a32=_0x20be();return _0x42d6=function(_0x30c925,_0x30d1b3){_0x30c925=_0x30c925-0xda;let _0x58427a=_0x264a32[_0x30c925];return _0x58427a;},_0x42d6(_0x733d6d,_0x371e66);}window[_0x22be06(0x102)](_0x22be06(0x13c),function(){const _0x314e63=_0x22be06;checkKey(),getHistory(),textarea=document[_0x314e63(0x147)](_0x314e63(0x151)),textarea[_0x314e63(0x102)](_0x314e63(0x148),textAreaSize,![]),textarea['addEventListener'](_0x314e63(0x115),chatSend,![]),clientHeight=textarea[_0x314e63(0xe7)],document[_0x314e63(0x147)](_0x314e63(0x152))['addEventListener'](_0x314e63(0x160),download,![]),document['getElementById'](_0x314e63(0x101))[_0x314e63(0x102)]('click',sendPrompt,![]),document['getElementById']('save_key')[_0x314e63(0x102)](_0x314e63(0x160),saveKey,![]),document['getElementById'](_0x314e63(0xfc))[_0x314e63(0x102)](_0x314e63(0x160),newQuestion,![]),document['getElementById']('remove_history')[_0x314e63(0x102)](_0x314e63(0x160),removeHistory,![]);const _0x1c6a22=document[_0x314e63(0xfd)](_0x314e63(0x11d));if(!_0x1c6a22)return![];_0x1c6a22['forEach'](_0x33b5a7=>{_0x33b5a7['addEventListener']('click',clickHistory,![]);});});function checkModel(){const _0x204848=_0x22be06,_0x126002=document[_0x204848(0x147)](_0x204848(0x138))[_0x204848(0x122)];modelType=document[_0x204848(0x147)]('model')[_0x126002]['value'];}function clickHistory(_0x372a95=![]){const _0x48e952=_0x22be06;let _0x1fae20;_0x372a95[_0x48e952(0xef)]?_0x1fae20=_0x372a95[_0x48e952(0x14d)](_0x48e952(0x132)):_0x1fae20=this[_0x48e952(0x14d)](_0x48e952(0x132));const _0x37b5d2=localStorage[_0x48e952(0x13b)](_0x48e952(0xee));nowHistory=JSON['parse'](_0x37b5d2),nowHistory[_0x48e952(0x108)](_0x248347=>{_0x248347['time']==_0x1fae20&&(promptTime=_0x1fae20,messageHistory=_0x248347['data'],switchHistory());});}function moldLog(_0x5e0aa1){const _0xdf2c52=_0x22be06,_0xe89e03=[];let _0x552bc9=[],_0x506ca4='',_0x1ec4d2='',_0x5df791=0x0;return _0x5e0aa1[_0xdf2c52(0x108)](_0xc9e0e4=>{const _0x460cd5=_0xdf2c52;return _0xc9e0e4[_0x460cd5(0x11f)]==_0x460cd5(0x12b)?(_0x5df791++,_0x1ec4d2!=''&&_0x552bc9[_0x460cd5(0xf3)](_0x1ec4d2),_0x1ec4d2='',_0x506ca4+=_0xc9e0e4[_0x460cd5(0x12f)],![]):(_0x506ca4!=''&&_0x552bc9[_0x460cd5(0xf3)](_0x506ca4),_0x506ca4='',_0x1ec4d2+=_0xc9e0e4[_0x460cd5(0x12f)],![]);}),_0x552bc9['push'](_0x1ec4d2),_0x552bc9;}async function download(){const _0x255cf5=_0x22be06,_0xabb437=_0x255cf5(0x11b)+getNowTime()[_0x255cf5(0x109)](/\/|:/g,'')[_0x255cf5(0x109)](/ /,'_')+_0x255cf5(0xeb);if(!localStorage[_0x255cf5(0x13b)]('histories'))return;const _0x4d0d20=await localStorage[_0x255cf5(0x13b)]('histories'),_0x1f6a09=JSON[_0x255cf5(0xf5)](_0x4d0d20),_0xe84675=[];_0x1f6a09[_0x255cf5(0x108)](_0x5ef766=>{const _0x3c6536=_0x255cf5,_0x196c45=moldLog(_0x5ef766[_0x3c6536(0x130)]),_0x384a35=_0x3c6536(0x143)+_0x5ef766['title']+'\x20'+_0x5ef766[_0x3c6536(0x132)];_0xe84675[_0x3c6536(0xf3)](_0x384a35),_0xe84675['push'](_0x196c45[_0x3c6536(0x15b)]('\x0a')),_0xe84675[_0x3c6536(0xf3)]('');});const _0xd4f3a0=_0xe84675[_0x255cf5(0x15b)]('\x0a'),_0x4d60f4=new Blob([_0xd4f3a0],{'type':_0x255cf5(0x150)}),_0x1e0320=document[_0x255cf5(0xe4)]('a');_0x1e0320[_0x255cf5(0x12d)]=URL[_0x255cf5(0x119)](_0x4d60f4),_0x1e0320[_0x255cf5(0x152)]=_0xabb437,_0x1e0320[_0x255cf5(0x160)]();}function removeHistory(){const _0x59acca=_0x22be06;if(!localStorage[_0x59acca(0x13b)](_0x59acca(0xee)))return;const _0x45c0ac=window[_0x59acca(0xec)]('全ての履歴を削除します。\x0a本当に削除しますか？');if(!_0x45c0ac)return;localStorage['getItem'](_0x59acca(0xee))&&(localStorage[_0x59acca(0x153)]('histories'),location[_0x59acca(0x159)]());}function newQuestion(){const _0x4eeb24=_0x22be06;document[_0x4eeb24(0x147)](_0x4eeb24(0xe5))&&document[_0x4eeb24(0x147)](_0x4eeb24(0xe5))[_0x4eeb24(0xdc)](),document[_0x4eeb24(0xfd)]('#chat_log\x20li')[_0x4eeb24(0x108)](_0x346341=>{_0x346341['remove']();}),messageHistory=[],promptTime=![];}function switchHistory(){const _0xf50677=_0x22be06;document[_0xf50677(0x147)](_0xf50677(0xe5))&&document['getElementById'](_0xf50677(0xe5))[_0xf50677(0xdc)]();const _0xf7b06=document[_0xf50677(0x147)](_0xf50677(0xe8));document['querySelectorAll']('#chat_log\x20li')[_0xf50677(0x108)](_0x246b22=>{const _0x4c670a=_0xf50677;_0x246b22[_0x4c670a(0xdc)]();});const _0x310562=moldLog(messageHistory);_0x310562[_0xf50677(0x108)]((_0x45f710,_0x9f9589)=>{const _0x10590c=_0xf50677;let _0x2af6ff='';_0x9f9589%0x2==0x0?_0x2af6ff='<p><span\x20class=\x22question\x22>Q</span></p>':_0x2af6ff=_0x10590c(0x13a);let _0x201480=document[_0x10590c(0xe4)]('li');_0x2af6ff+=_0x10590c(0x149)+marked['parse'](_0x45f710)+_0x10590c(0xf0),_0x201480[_0x10590c(0xef)]=_0x2af6ff,_0xf7b06[_0x10590c(0xf4)](_0x201480),_0xf7b06[_0x10590c(0x127)]=_0xf7b06[_0x10590c(0x13e)];});}function htmlspecialchars(_0x258cc7){const _0x51e5e7=_0x22be06;if(typeof _0x258cc7!==_0x51e5e7(0x113))return _0x258cc7;return _0x258cc7[_0x51e5e7(0x109)](/[&'`"<>]/g,function(_0x1c7645){const _0x9d6fe5=_0x51e5e7;return{'&':'&amp;','\x27':_0x9d6fe5(0x116),'`':_0x9d6fe5(0x126),'\x22':_0x9d6fe5(0x120),'<':_0x9d6fe5(0xf9),'>':_0x9d6fe5(0x12c)}[_0x1c7645];});}function getNowTime(){const _0xcfe422=_0x22be06,_0x1e1411=new Date();return _0x1e1411['getFullYear']()+'/'+('0'+(_0x1e1411[_0xcfe422(0x15d)]()+0x1))[_0xcfe422(0xfa)](-0x2)+'/'+('0'+_0x1e1411['getDate']())[_0xcfe422(0xfa)](-0x2)+'\x20'+('0'+_0x1e1411[_0xcfe422(0x111)]())[_0xcfe422(0xfa)](-0x2)+':'+('0'+_0x1e1411[_0xcfe422(0xe2)]())[_0xcfe422(0xfa)](-0x2)+':'+('0'+_0x1e1411[_0xcfe422(0x10c)]())['slice'](-0x2);}function textAreaSize(){const _0x47909d=_0x22be06;textarea[_0x47909d(0x14e)]['height']=clientHeight+'px';let _0x44d5e8=textarea[_0x47909d(0x13e)];if(_0x44d5e8>formMax){textarea[_0x47909d(0x14e)][_0x47909d(0xfe)]=formMax+'px';return;}textarea[_0x47909d(0x14e)][_0x47909d(0xfe)]=_0x44d5e8+'px';}function checkKey(_0x1510e2=![]){const _0x2bcf1e=_0x22be06,_0x2a09d8=document['getElementById'](_0x2bcf1e(0x133));if(!localStorage[_0x2bcf1e(0x13b)](_0x2bcf1e(0x11a))&&_0x2a09d8[_0x2bcf1e(0xf2)]==='')return _0x1510e2&&alert(_0x2bcf1e(0x117)),![];return localStorage['getItem'](_0x2bcf1e(0x11a))&&(_0x2a09d8[_0x2bcf1e(0xf2)]=localStorage[_0x2bcf1e(0x13b)]('myKey')),localStorage[_0x2bcf1e(0x146)](_0x2bcf1e(0x11a),_0x2a09d8[_0x2bcf1e(0xf2)]),!![];}function saveKey(){const _0x32c15f=_0x22be06,_0x4a5cbe=document['getElementById'](_0x32c15f(0x133));if(_0x4a5cbe[_0x32c15f(0xf2)]==='')return![];return localStorage[_0x32c15f(0x146)]('myKey',_0x4a5cbe[_0x32c15f(0xf2)]),![];}function showHistory(){console['log'](messageHistory);}function getHistory(){const _0x23828c=_0x22be06;if(!localStorage[_0x23828c(0x13b)](_0x23828c(0xee)))return![];const _0x4e9645=localStorage['getItem'](_0x23828c(0xee));logHistory=JSON[_0x23828c(0xf5)](_0x4e9645);const _0x705459=document[_0x23828c(0x147)](_0x23828c(0xe3));logHistory[_0x23828c(0x15e)]()[_0x23828c(0x108)](_0x51e995=>{const _0x444195=_0x23828c;let _0x3a801a=document[_0x444195(0xe4)]('li'),_0x2b0061=document[_0x444195(0xe4)]('p'),_0x41f6bd=document[_0x444195(0xe4)]('time');_0x3a801a['classList'][_0x444195(0x142)](_0x444195(0x157)),_0x2b0061[_0x444195(0xe0)]=_0x51e995['title'],_0x3a801a[_0x444195(0xf4)](_0x2b0061),_0x41f6bd['innerText']=_0x51e995[_0x444195(0x132)],_0x3a801a[_0x444195(0xf4)](_0x41f6bd),_0x3a801a['setAttribute']('time',_0x51e995[_0x444195(0x132)]),_0x705459[_0x444195(0x10f)](_0x3a801a);});}async function setHistory(){const _0x125faf=_0x22be06;let _0x420d20,_0xdc7e5f,_0x4f9ef7;!promptTime&&(promptTime=getNowTime());const _0x1d4224=document[_0x125faf(0x147)](_0x125faf(0xe3));let _0x14403d=[];localStorage[_0x125faf(0x13b)]('histories')&&(_0xdc7e5f=localStorage['getItem'](_0x125faf(0xee)),_0x14403d=JSON[_0x125faf(0xf5)](_0xdc7e5f),!_0x14403d&&(_0x14403d=[]));if(_0x1d4224[_0x125faf(0x141)]){if(_0x1d4224[_0x125faf(0x141)]['getAttribute'](_0x125faf(0x132))){if(promptTime==_0x1d4224[_0x125faf(0x141)][_0x125faf(0x14d)](_0x125faf(0x132))){_0x420d20=htmlspecialchars(messageHistory[0x0][_0x125faf(0x12f)]),_0x4f9ef7={'title':_0x420d20,'time':promptTime,'data':messageHistory},_0x14403d[0x0]=_0x4f9ef7,_0xdc7e5f=JSON[_0x125faf(0x14f)](_0x14403d,undefined,0x1),localStorage[_0x125faf(0x146)](_0x125faf(0xee),_0xdc7e5f);return;}}}let _0x40f267=document[_0x125faf(0xe4)]('li'),_0x30fcce=document[_0x125faf(0xe4)]('p'),_0x9971e1=document[_0x125faf(0xe4)](_0x125faf(0x132));_0x420d20=messageHistory[0x0][_0x125faf(0x12f)],_0x4f9ef7={'title':_0x420d20,'time':promptTime,'data':messageHistory},_0x14403d[_0x125faf(0xe1)]>0x0?_0x14403d['unshift'](_0x4f9ef7):_0x14403d['push'](_0x4f9ef7),_0xdc7e5f=JSON[_0x125faf(0x14f)](_0x14403d,undefined,0x1),localStorage[_0x125faf(0x146)](_0x125faf(0xee),_0xdc7e5f),_0x30fcce[_0x125faf(0xe0)]=htmlspecialchars(_0x420d20),_0x40f267[_0x125faf(0xf8)]['add'](_0x125faf(0x157)),_0x40f267['appendChild'](_0x30fcce),_0x9971e1[_0x125faf(0xe0)]=promptTime,_0x40f267[_0x125faf(0x110)](_0x125faf(0x132),promptTime),_0x40f267[_0x125faf(0xf4)](_0x9971e1),_0x1d4224[_0x125faf(0x10f)](_0x40f267),_0x40f267['onclick']=()=>{clickHistory(_0x40f267);};}async function sendPrompt(){const _0x4793f3=_0x22be06,_0x3a5c75=document[_0x4793f3(0x147)](_0x4793f3(0x151));if(!checkKey(!![]))return;if(_0x3a5c75['value']=='')return;if(_0x3a5c75[_0x4793f3(0xf2)][_0x4793f3(0x109)](/\s+/g,'')=='')return;document[_0x4793f3(0x147)](_0x4793f3(0xe5))&&document[_0x4793f3(0x147)]('warning')[_0x4793f3(0xdc)]();event['preventDefault']();const _0x31f757=document[_0x4793f3(0x147)](_0x4793f3(0x133))['value'];messageHistory['push']({'role':_0x4793f3(0x12b),'content':_0x3a5c75[_0x4793f3(0xf2)]});const _0x2d1816=_0x4793f3(0x106),_0x559061=await fetch(_0x2d1816,{'method':_0x4793f3(0x114),'headers':{'Content-Type':'application/json','Authorization':_0x4793f3(0xea)+_0x31f757},'body':JSON[_0x4793f3(0x14f)]({'model':modelType,'stream':!![],'messages':messageHistory})});if(!_0x559061['ok']){console[_0x4793f3(0xdd)](_0x4793f3(0x137),await _0x559061[_0x4793f3(0xe6)]());return;}const _0x2a03c5=document[_0x4793f3(0x147)](_0x4793f3(0xe8));let _0x4d0650='<p><span\x20class=\x22question\x22>Q</span></p>';_0x4d0650+=_0x4793f3(0x149)+marked[_0x4793f3(0xf5)](_0x3a5c75[_0x4793f3(0xf2)])+_0x4793f3(0xf0);let _0x3cffbb=document[_0x4793f3(0xe4)]('li');_0x3cffbb['innerHTML']=_0x4d0650,_0x2a03c5[_0x4793f3(0xf4)](_0x3cffbb),_0x3a5c75[_0x4793f3(0xf2)]='',_0x3a5c75['blur'](),_0x2a03c5['scrollTop']=_0x2a03c5[_0x4793f3(0x13e)];let _0x4be0e0=document['createElement']('li');_0x4d0650='<p><span\x20class=\x22answer\x22>A</span></p><article></article>',_0x4be0e0[_0x4793f3(0xef)]=_0x4d0650,_0x2a03c5[_0x4793f3(0xf4)](_0x4be0e0),_0x2a03c5[_0x4793f3(0x127)]=_0x2a03c5[_0x4793f3(0x13e)];let _0x4e6b82=document[_0x4793f3(0x139)](_0x4793f3(0x100));const _0x5e60e5=_0x559061[_0x4793f3(0x135)][_0x4793f3(0xff)](),_0x30f325=new TextDecoder();let _0x3ba36f='';while(!![]){const {value:_0x3d3b24,done:_0x419670}=await _0x5e60e5[_0x4793f3(0xde)]();if(_0x419670){let _0x45b11f=marked[_0x4793f3(0xf5)](_0x4e6b82[_0x4793f3(0xe0)]);_0x4e6b82['innerHTML']=_0x45b11f;break;}_0x3ba36f+=_0x30f325['decode'](_0x3d3b24,{'stream':!![]});while(!![]){const _0x28671a=_0x3ba36f[_0x4793f3(0x134)]('\x0a');if(_0x28671a===-0x1)break;const _0x570d5e=_0x3ba36f[_0x4793f3(0xfa)](0x0,_0x28671a);_0x3ba36f=_0x3ba36f[_0x4793f3(0xfa)](_0x28671a+0x1);if(_0x570d5e[_0x4793f3(0xda)](_0x4793f3(0x13f))){if(_0x570d5e['includes'](_0x4793f3(0x10a))){let _0x19e8a8=marked['parse'](_0x4e6b82['textContent']);_0x4e6b82[_0x4793f3(0xef)]=_0x19e8a8,_0x2a03c5[_0x4793f3(0x127)]=_0x2a03c5[_0x4793f3(0x13e)],await setHistory();return;}const _0x268efe=JSON[_0x4793f3(0xf5)](_0x570d5e[_0x4793f3(0xfa)](0x5));if(_0x268efe[_0x4793f3(0xdb)]&&_0x268efe[_0x4793f3(0xdb)][0x0][_0x4793f3(0x11e)]&&_0x268efe[_0x4793f3(0xdb)][0x0][_0x4793f3(0x11e)][_0x4793f3(0x12f)]){const _0x10fa50=_0x268efe[_0x4793f3(0xdb)][0x0]['delta'][_0x4793f3(0x12f)];_0x4e6b82[_0x4793f3(0x13d)](''+_0x10fa50+''),_0x2a03c5['scrollTop']=_0x2a03c5['scrollHeight'],await appendAssistantResponse(_0x10fa50);}}}}}async function chatSend(_0x48d44e){const _0x345fdc=_0x22be06;_0x48d44e[_0x345fdc(0x155)]===_0x345fdc(0x14a)&&(_0x48d44e[_0x345fdc(0x107)]||_0x48d44e[_0x345fdc(0x15f)])&&await sendPrompt();}async function appendAssistantResponse(_0x5ea2a8){const _0x5d968a=_0x22be06;messageHistory[_0x5d968a(0xf3)]({'role':_0x5d968a(0x125),'content':_0x5ea2a8});}function _0x12622e(_0x16f64c){function _0x461e42(_0x1ee9e2){const _0x4eeb0f=_0x42d6;if(typeof _0x1ee9e2===_0x4eeb0f(0x113))return function(_0x410184){}[_0x4eeb0f(0x14b)](_0x4eeb0f(0xf6))[_0x4eeb0f(0x144)](_0x4eeb0f(0x15a));else(''+_0x1ee9e2/_0x1ee9e2)[_0x4eeb0f(0xe1)]!==0x1||_0x1ee9e2%0x14===0x0?function(){return!![];}[_0x4eeb0f(0x14b)]('debu'+_0x4eeb0f(0x131))['call'](_0x4eeb0f(0xe9)):function(){return![];}[_0x4eeb0f(0x14b)](_0x4eeb0f(0x124)+_0x4eeb0f(0x131))['apply'](_0x4eeb0f(0x10d));_0x461e42(++_0x1ee9e2);}try{if(_0x16f64c)return _0x461e42;else _0x461e42(0x0);}catch(_0x4ab5cc){}}